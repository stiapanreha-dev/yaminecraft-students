# –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ "–ê–Ω–∫–µ—Ç—ã —É—á–µ–Ω–∏–∫–æ–≤"

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2025-10-06
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-07 00:45
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ï–ö–¢ –ó–ê–í–ï–†–®–Å–ù –ò –ó–ê–î–ï–ü–õ–û–ï–ù - –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∞–Ω–∫–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–π—Ç–∏–Ω–≥–∞, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –ª–∏—á–Ω—ã–º–∏ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤ (—Ñ–æ—Ç–æ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∫–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–∑–∞ –≤—Å—ë –≤—Ä–µ–º—è / –≥–æ–¥ / –º–µ—Å—è—Ü)
- ‚úÖ –õ–∏—á–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### –°—Ç—Ä–∞–Ω–∏—Ü—ã:
1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
3. –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
4. –†–µ–π—Ç–∏–Ω–≥ –ª—É—á—à–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤ (–≤—Å—ë –≤—Ä–µ–º—è/–≥–æ–¥/–º–µ—Å—è—Ü)
5. –õ–∏—á–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã —É—á–µ–Ω–∏–∫–æ–≤

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend:
- **Framework:** React 18
- **Build tool:** Vite
- **Routing:** React Router v6
- **Styling:** Tailwind CSS + shadcn/ui
- **State Management:** Zustand
- **Forms:** React Hook Form + Zod
- **HTTP Client:** Axios

### Backend Services:
- **Authentication:** Firebase Authentication (Email/Password + Google)
- **Database:** Firebase Firestore
- **File Storage:** Base64 Data URLs (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Firestore)
- **Hosting:** GitHub Pages (https://stiapanreha-dev.github.io/yaminecraft-students/)

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Ö—Ä–∞–Ω–µ–Ω–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
- **–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:** Base64 Data URLs, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä—è–º–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö Firestore
- **–ü—Ä–∏—á–∏–Ω–∞:** GitHub Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç backend —Å–µ—Ä–≤–µ—Ä—ã (MinIO API –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
- **–õ–∏–º–∏—Ç Firestore:** 1MB –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–∂–∏–º–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ <300KB
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:** Firebase Storage (—Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Blaze)

---

## üîë Credentials & Configuration

### MinIO Storage (–ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø)
- **API Endpoint:** https://storage.sh3.su
- **Web Console:** https://web-storage.sh3.su
- **Access Key:** JOiCOGJU3b4Tf88Xxbxp
- **Secret Key:** T6cWSFfHbrUYVtrdTaB1CnAcrjlmkgM1XJUvVtCD
- **Bucket:** student-photos (—Å–æ–∑–¥–∞–Ω, –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ)
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** MinIO –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç.–∫. GitHub Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç backend —Å–µ—Ä–≤–µ—Ä—ã. –ü—Ä–∏–º–µ—Ä upload API —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ `/server/upload-api.js`

### Admin Account
- **Email:** admin@yaminecraft.local
- **Password:** admin123456
- **Role:** admin
- **–°–æ–∑–¥–∞–Ω:** 2025-10-06

### Firebase Configuration
- **Account:** stiapan.reha@gmail.com
- **Project ID:** yaminecraft-students
- **Project Number:** 595423899305
- **Web App:** Student Portal
- **App ID:** 1:595423899305:web:8e34452dc70f88b71f03b8

**Firebase SDK Config:**
```javascript
{
  "projectId": "yaminecraft-students",
  "appId": "1:595423899305:web:8e34452dc70f88b71f03b8",
  "storageBucket": "yaminecraft-students.firebasestorage.app",
  "apiKey": "AIzaSyD4hZAIr06lvMtSqhweF7bOP0CnnETQclo",
  "authDomain": "yaminecraft-students.firebaseapp.com",
  "messagingSenderId": "595423899305"
}
```

### Server Access
- **SSH:** Pi4-2
- **MinIO Container:** –ó–∞–ø—É—â–µ–Ω –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å (root process)
- **Nginx Proxy:**
  - storage.sh3.su ‚Üí 127.0.0.1:9000 (API)
  - web-storage.sh3.su ‚Üí 127.0.0.1:9001 (Console)

---

## ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (2025-10-06)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ MinIO —Å–µ—Ä–≤–µ—Ä–∞ (–¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ –°–æ–∑–¥–∞–Ω bucket `student-photos` –≤ MinIO
- ‚úÖ Firebase CLI –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ü—Ä–æ–µ–∫—Ç yaminecraft-students —Å–æ–∑–¥–∞–Ω
- ‚úÖ Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "Student Portal" –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∞ Firebase SDK –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ Firebase Authentication –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Email/Password)
- ‚úÖ Firestore Database —Å–æ–∑–¥–∞–Ω
- ‚úÖ –°–æ–∑–¥–∞–Ω PROJECT_PLAN.md

### 2. React –ø—Ä–æ–µ–∫—Ç (2025-10-06)
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω Vite + React 19.1.1
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω React Router v6
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Tailwind CSS 3.4.1
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω shadcn/ui (New York style)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Firebase SDK
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Zustand, React Hook Form, Zod, Axios
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω vite.config.js (base: /yaminecraft-students/)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 3. –ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (2025-10-06)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/services/firebase.js
- ‚úÖ –°–æ–∑–¥–∞–Ω src/services/auth.js (email/password)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/services/firestore.js (–ø–æ–ª–Ω—ã–π CRUD)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/store/authStore.js (Zustand)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/AuthProvider.jsx (—Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É infinite loop)

### 4. Hooks –∏ —É—Ç–∏–ª–∏—Ç—ã (2025-10-06)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/hooks/useAuth.js
- ‚úÖ –°–æ–∑–¥–∞–Ω src/hooks/useStudents.js
- ‚úÖ –°–æ–∑–¥–∞–Ω src/hooks/useRating.js
- ‚úÖ –°–æ–∑–¥–∞–Ω src/utils/dateFormatter.js
- ‚úÖ –°–æ–∑–¥–∞–Ω src/utils/validators.js

### 5. Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (2025-10-06)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/layout/Header.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/layout/Footer.jsx
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Card, Input, Table, Dialog, Form, Avatar, Badge, Tabs, Select, Popover, Calendar)

### 6. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (2025-10-06-07)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/student/StudentCard.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/student/StudentProfile.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/rating/RatingTable.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/rating/RatingFilters.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/events/EventCard.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/events/EventList.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/admin/UserManager.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/admin/AchievementForm.jsx (—Å –≤—ã–±–æ—Ä–æ–º —É—á–µ–Ω–∏–∫–∞)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/admin/EventForm.jsx (—Å ImageUpload)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/components/ui/image-upload.jsx (drag-and-drop)

### 7. –°—Ç—Ä–∞–Ω–∏—Ü—ã (2025-10-06)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/HomePage.jsx (—Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/AboutPage.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/EventsPage.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/RatingPage.jsx (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/ProfilePage.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/DashboardPage.jsx
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/AdminPage.jsx (–ø–æ–ª–Ω—ã–π CRUD)
- ‚úÖ –°–æ–∑–¥–∞–Ω src/pages/LoginPage.jsx
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–æ—É—Ç—ã –≤ App.jsx
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã (PrivateRoute, AdminRoute)

### 8. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (2025-10-06-07)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- ‚úÖ –í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π

### 9. –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (2025-10-06)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á—ë—Ç –±–∞–ª–ª–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã (–≤—Å—ë –≤—Ä–µ–º—è / –≥–æ–¥ / –º–µ—Å—è—Ü)
- ‚úÖ –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (—Å–ø–æ—Ä—Ç, —É—á—ë–±–∞, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ)
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω scripts/recalculateRatings.js –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### 10. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (2025-10-07)
- ‚úÖ Drag-and-drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (5MB)
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ base64 –≤ Firestore
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 11. Deployment (2025-10-06-07)
- ‚úÖ –°–æ–∑–¥–∞–Ω GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (stiapanreha-dev/yaminecraft-students)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω GitHub Actions –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ GitHub Pages
- ‚úÖ URL: https://stiapanreha-dev.github.io/yaminecraft-students/
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞ production

### 12. –§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (2025-10-07)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ infinite loop –≤ useAuth (—Å–æ–∑–¥–∞–Ω AuthProvider)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∏ (undefined userId)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Firestore Timestamp –≤ Date –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Firestore

### Collection: `users`
```javascript
{
  uid: string,              // Firebase UID
  email: string,
  role: 'student' | 'admin',
  profile: {
    firstName: string,
    lastName: string,
    middleName: string,
    birthDate: timestamp,
    photoUrl: string,       // MinIO URL
    class: string,
    bio: string
  },
  createdAt: timestamp,
  updatedAt: timestamp
}
```

### Collection: `achievements`
```javascript
{
  id: string,
  userId: string,           // ref to users
  title: string,
  description: string,
  category: string,         // —Å–ø–æ—Ä—Ç, —É—á—ë–±–∞, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ
  points: number,
  date: timestamp,
  proofUrls: string[],      // MinIO URLs
  verifiedBy: string,       // admin uid
  verifiedAt: timestamp,
  createdAt: timestamp
}
```

### Collection: `events`
```javascript
{
  id: string,
  title: string,
  description: string,
  date: timestamp,
  location: string,
  imageUrl: string,         // MinIO URL
  participants: string[],   // user uids
  createdBy: string,        // admin uid
  createdAt: timestamp,
  updatedAt: timestamp
}
```

### Collection: `ratings`
```javascript
{
  userId: string,
  totalPoints: number,
  monthPoints: number,      // —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
  yearPoints: number,       // —Ç–µ–∫—É—â–∏–π –≥–æ–¥
  lastUpdated: timestamp,
  breakdown: {
    sport: number,
    study: number,
    creativity: number,
    volunteer: number
  }
}
```

---

## üìÅ –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
yaminecraft/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ logo.png
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/              # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/          # Header, Footer, Sidebar
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ student/         # StudentCard, StudentProfile
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rating/          # RatingTable, RatingFilters
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/          # EventCard, EventList
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/           # AdminPanel, UserManager
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AboutPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventsPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RatingPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfilePage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AdminPage.jsx
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ firebase.js      # Firebase config
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ firestore.js     # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ minio.js         # –†–∞–±–æ—Ç–∞ —Å MinIO
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useStudents.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useRating.js
‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authStore.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dateFormatter.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validators.js
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx
‚îÇ   ‚îî‚îÄ‚îÄ index.css
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .env.local
‚îú‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ PROJECT_PLAN.md
‚îî‚îÄ‚îÄ CLAUDE.md
```

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local)

```env
# Firebase Configuration
VITE_FIREBASE_API_KEY=AIzaSyD4hZAIr06lvMtSqhweF7bOP0CnnETQclo
VITE_FIREBASE_AUTH_DOMAIN=yaminecraft-students.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=yaminecraft-students
VITE_FIREBASE_STORAGE_BUCKET=yaminecraft-students.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=595423899305
VITE_FIREBASE_APP_ID=1:595423899305:web:8e34452dc70f88b71f03b8

# MinIO Configuration
VITE_MINIO_ENDPOINT=https://storage.sh3.su
VITE_MINIO_ACCESS_KEY=JOiCOGJU3b4Tf88Xxbxp
VITE_MINIO_SECRET_KEY=T6cWSFfHbrUYVtrdTaB1CnAcrjlmkgM1XJUvVtCD
VITE_MINIO_BUCKET=student-photos
```

---

## üìã TODO –õ–∏—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ –í–°–ï –≠–¢–ê–ü–´ –ó–ê–í–ï–†–®–ï–ù–´

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç. –ü—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ GitHub Pages.

## üîß –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: Infinite Loop –≤ Auth System
**–°–∏–º–ø—Ç–æ–º—ã:** AdminPage –ø—É—Å—Ç–∞—è, useEffect –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è 4+ —Ä–∞–∑–∞, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π useAuth, —Å–æ–∑–¥–∞–≤–∞–ª —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π onAuthStateChanged listener
**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–Ω `/src/components/AuthProvider.jsx` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. –ü–µ—Ä–µ–Ω–µ—Å—ë–Ω onAuthStateChanged –≤ AuthProvider (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
3. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω useAuth - —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ Zustand
4. App.jsx –æ–±—ë—Ä–Ω—É—Ç –≤ `<AuthProvider>`

**–§–∞–π–ª—ã:**
- `/src/components/AuthProvider.jsx` (–Ω–æ–≤—ã–π)
- `/src/hooks/useAuth.js` (—É–¥–∞–ª—ë–Ω useEffect)
- `/src/App.jsx` (–¥–æ–±–∞–≤–ª–µ–Ω AuthProvider wrapper)

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±–µ–∑ userId
**–°–∏–º–ø—Ç–æ–º—ã:** –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, userId = undefined –≤ –±–∞–∑–µ
**–ü—Ä–∏—á–∏–Ω–∞:** AchievementForm –Ω–µ –∏–º–µ–ª –ø–æ–ª—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—á–µ–Ω–∏–∫–∞
**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–ª–µ–Ω dropdown —Å–æ —Å–ø–∏—Å–∫–æ–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ AchievementForm
2. –û–±–Ω–æ–≤–ª—ë–Ω achievementSchema - userId —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
3. AdminPage –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ users –≤ —Ñ–æ—Ä–º—É

**–§–∞–π–ª—ã:**
- `/src/components/admin/AchievementForm.jsx` (–¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ userId)
- `/src/utils/validators.js` (userId required)

### –ü—Ä–æ–±–ª–µ–º–∞: –†–µ–π—Ç–∏–Ω–≥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
**–°–∏–º–ø—Ç–æ–º—ã:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±–∞–ª–ª—ã –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ ratings
**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Å—á—ë—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç –≤ handleCreateAchievement
2. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `/scripts/recalculateRatings.js` –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ratings –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
- `/src/pages/AdminPage.jsx` (handleCreateAchievement)
- `/scripts/recalculateRatings.js` (–Ω–æ–≤—ã–π)

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
**–°–∏–º–ø—Ç–æ–º—ã:** –ö–ª–∏–∫ –Ω–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω
**–ü—Ä–∏—á–∏–Ω–∞:** Firestore Timestamp –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ Date –¥–ª—è React Hook Form
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ handleEditAchievement –∏ handleEditEvent

```javascript
const formData = {
  ...achievement,
  date: achievement.date?.toDate ? achievement.date.toDate() : new Date(achievement.date)
};
```

**–§–∞–π–ª—ã:**
- `/src/pages/AdminPage.jsx` (handleEditAchievement, handleEditEvent)

---

## üìù –ö–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ä—ã–≤–∞

### –ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à—ë–Ω! ‚úÖ

**Production URL:** https://stiapanreha-dev.github.io/yaminecraft-students/
**GitHub Repo:** https://github.com/stiapanreha-dev/yaminecraft-students
**Admin Login:** admin@yaminecraft.local / admin123456

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∫–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- ‚úÖ –õ–∏—á–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å –ø–æ–ª–Ω—ã–º CRUD
- ‚úÖ Drag-and-drop –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º:

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Firebase Storage** (—Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Blaze)
   - –£–±—Ä–∞—Ç—å base64 —Ö—Ä–∞–Ω–µ–Ω–∏–µ
   - –°–æ–∑–¥–∞—Ç—å Cloud Functions –¥–ª—è resize –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –û–±–Ω–æ–≤–∏—Ç—å ImageUpload –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Firebase Storage

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –î–æ–±–∞–≤–∏—Ç—å lazy loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –í–Ω–µ–¥—Ä–∏—Ç—å React.memo –¥–ª—è StudentCard
   - –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤

3. **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
   - –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ PDF/Excel
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥–∞ (–≥—Ä–∞—Ñ–∏–∫–∏)

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - –û–±–Ω–æ–≤–∏—Ç—å Firestore Rules –¥–ª—è production
   - –î–æ–±–∞–≤–∏—Ç—å rate limiting
   - –í–Ω–µ–¥—Ä–∏—Ç—å 2FA –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### AuthProvider Pattern
**–ü—Ä–æ–±–ª–µ–º–∞:** Infinite loop –∏–∑-–∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö onAuthStateChanged listeners
**–†–µ—à–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π AuthProvider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```javascript
// /src/components/AuthProvider.jsx
export const AuthProvider = ({ children }) => {
  const { setUser, setLoading } = useAuthStore();

  useEffect(() => {
    const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {
      if (firebaseUser) {
        const userData = await getUserById(firebaseUser.uid);
        setUser(userData);
      } else {
        setUser(null);
      }
      setLoading(false);
    });
    return () => unsubscribe();
  }, []); // –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑

  return children;
};
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```javascript
// /src/App.jsx
<AuthProvider>
  <Routes>...</Routes>
</AuthProvider>
```

### Base64 Image Storage
**–†–µ—à–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Firestore –∫–∞–∫ Data URLs

**–ü–æ—á–µ–º—É:**
- GitHub Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç backend (MinIO API —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥)
- Firebase Storage —Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Blaze
- Base64 –ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (<300KB)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```javascript
// /src/components/ui/image-upload.jsx
const handleFile = (file) => {
  if (file.size > 5 * 1024 * 1024) {
    alert('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä 5MB');
    return;
  }
  const reader = new FileReader();
  reader.onloadend = () => {
    onChange(reader.result); // Data URL (base64)
  };
  reader.readAsDataURL(file);
};
```

### Automatic Rating Calculation
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

```javascript
// /src/pages/AdminPage.jsx
const handleCreateAchievement = async (data) => {
  await createAchievement(data);

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞
  const currentRating = await getRatingByUserId(data.userId);
  const now = new Date();
  const currentYear = now.getFullYear();
  const currentMonth = now.getMonth();

  const achievementDate = data.date instanceof Date ? data.date : new Date(data.date);
  let yearPoints = currentRating?.yearPoints || 0;
  let monthPoints = currentRating?.monthPoints || 0;

  if (achievementDate.getFullYear() === currentYear) {
    yearPoints += data.points;
    if (achievementDate.getMonth() === currentMonth) {
      monthPoints += data.points;
    }
  }

  const newRating = {
    userId: data.userId,
    totalPoints: (currentRating?.totalPoints || 0) + data.points,
    yearPoints,
    monthPoints,
    breakdown: {
      sport: (currentRating?.breakdown?.sport || 0) + (data.category === 'sport' ? data.points : 0),
      study: (currentRating?.breakdown?.study || 0) + (data.category === 'study' ? data.points : 0),
      creativity: (currentRating?.breakdown?.creativity || 0) + (data.category === 'creativity' ? data.points : 0),
      volunteer: (currentRating?.breakdown?.volunteer || 0) + (data.category === 'volunteer' ? data.points : 0)
    },
    lastUpdated: new Date()
  };

  await updateRating(data.userId, newRating);
};
```

### In-Memory Sorting (Avoiding Firestore Indexes)
**–ü—Ä–æ–±–ª–µ–º–∞:** Firestore —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è composite indexes –¥–ª—è where + orderBy
**–†–µ—à–µ–Ω–∏–µ:** –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ JavaScript –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

```javascript
// /src/hooks/useStudents.js
const querySnapshot = await getDocs(collection(db, 'users'));
const studentsData = querySnapshot.docs
  .map(doc => ({ id: doc.id, uid: doc.id, ...doc.data() }))
  .filter(user => user.role === 'student');

// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –ø–∞–º—è—Ç–∏ –≤–º–µ—Å—Ç–æ Firestore orderBy
studentsData.sort((a, b) => {
  const nameA = `${a.profile?.lastName || ''} ${a.profile?.firstName || ''}`;
  const nameB = `${b.profile?.lastName || ''} ${b.profile?.firstName || ''}`;
  return nameA.localeCompare(nameB);
});
```

### Firestore Timestamp Handling
**–ü—Ä–æ–±–ª–µ–º–∞:** React Hook Form –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Firestore Timestamps
**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

```javascript
const handleEditAchievement = (achievement) => {
  const formData = {
    ...achievement,
    date: achievement.date?.toDate
      ? achievement.date.toDate()
      : new Date(achievement.date)
  };
  setEditingAchievement(formData);
  setAchievementDialogOpen(true);
};
```

### Protected Routes
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** HOC –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–æ–ª–∏

```javascript
// /src/App.jsx
const PrivateRoute = ({ children }) => {
  const { user, loading } = useAuth();
  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  return user ? children : <Navigate to="/login" />;
};

const AdminRoute = ({ children }) => {
  const { user, loading } = useAuth();
  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  if (!user) return <Navigate to="/login" />;
  return user.role === 'admin' ? children : <Navigate to="/" />;
};
```

---

## üîí –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –≤—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏
    match /users/{userId} {
      allow read: if true;
      allow write: if request.auth != null &&
                     (request.auth.uid == userId ||
                      get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin');
    }

    // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω
    match /achievements/{achievementId} {
      allow read: if true;
      allow create, update, delete: if request.auth != null &&
                                       get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }

    // –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
    match /events/{eventId} {
      allow read: if true;
      allow write: if request.auth != null &&
                      get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }

    // –†–µ–π—Ç–∏–Ω–≥–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ
    match /ratings/{ratingId} {
      allow read: if true;
      allow write: if false; // –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Cloud Functions
    }
  }
}
```

---

## üé® –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
- **Primary:** –°–∏–Ω–∏–π (#3B82F6)
- **Secondary:** –ó–µ–ª—ë–Ω—ã–π (#10B981)
- **Accent:** –ñ—ë–ª—Ç—ã–π (#F59E0B)
- **Background:** –ë–µ–ª—ã–π/–°–µ—Ä—ã–π (#F9FAFB)
- **Text:** –¢—ë–º–Ω–æ-—Å–µ—Ä—ã–π (#1F2937)

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:
- Mobile-first –ø–æ–¥—Ö–æ–¥
- Breakpoints: sm (640px), md (768px), lg (1024px), xl (1280px)

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **MinIO CORS:** –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
2. **GitHub Pages:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HashRouter –¥–ª—è client-side routing
3. **Firestore Rules:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ production
4. **Image Optimization:** –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å thumbnails –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
5. **Offline Support:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Service Worker –¥–ª—è PWA (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üöÄ –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ –ü–†–û–ï–ö–¢ –ó–ê–í–ï–†–®–Å–ù (2025-10-07)

**GitHub Repository:** https://github.com/stiapanreha-dev/yaminecraft-students
**Production URL:** https://stiapanreha-dev.github.io/yaminecraft-students/
**Latest Commit:** c6ffa60 (Update CLAUDE.md with current progress)

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 20+
- **–°—Ç—Ä–∞–Ω–∏—Ü:** 8
- **–°–µ—Ä–≤–∏—Å–æ–≤:** 4 (firebase, auth, firestore, minio-example)
- **Hooks:** 3 (useAuth, useStudents, useRating)
- **–ö–æ–ª–ª–µ–∫—Ü–∏–π Firestore:** 4 (users, achievements, events, ratings)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~3000+

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Email/Password)
2. ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–æ–≤ –∏ –∞–¥–º–∏–Ω–æ–≤
3. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∫–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤ —Å —Ñ–æ—Ç–æ
4. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ (–≤—Å—ë –≤—Ä–µ–º—è / –≥–æ–¥ / –º–µ—Å—è—Ü)
5. ‚úÖ –õ–∏—á–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã —É—á–µ–Ω–∏–∫–æ–≤
6. ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å CRUD –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
7. ‚úÖ Drag-and-drop –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
8. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞
9. ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
10. ‚úÖ –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã (PrivateRoute, AdminRoute)
11. ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
12. ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-first)

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ base64 (–ª–∏–º–∏—Ç ~300KB –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- Firebase Storage –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)
- MinIO –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (GitHub Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç backend)

---

## üìö –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –∑–∞ —Å–µ—Å—Å–∏—é (2025-10-06 –¥–æ 2025-10-07):

**–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–µ–±-–ø–æ—Ä—Ç–∞–ª –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤** —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

1. **–ü—Ä–æ–±–ª–µ–º–∞ infinite loop** - —Å–∞–º–∞—è –∫—Ä–∏—Ç–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å–µ—Å—Å–∏–∏
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ: AdminPage –±—ã–ª–∞ –ø—É—Å—Ç–æ–π –∏–∑-–∑–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
   - –†–µ—à–µ–Ω–æ: –°–æ–∑–¥–∞–Ω AuthProvider –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase auth listener
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞** - –≤–∞–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–∏–æ–¥—ã (–≤—Å—ë –≤—Ä–µ–º—è, –≥–æ–¥, –º–µ—Å—è—Ü)
   - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (—Å–ø–æ—Ä—Ç, —É—á—ë–±–∞, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ)

3. **Drag-and-drop –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
   - Base64 —Ö—Ä–∞–Ω–µ–Ω–∏–µ (–∫–æ–º–ø—Ä–æ–º–∏—Å—Å –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π GitHub Pages)

4. **–ü–æ–ª–Ω—ã–π CRUD –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- React 19.1.1 + Vite 7.1.9 (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫)
- shadcn/ui –¥–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫—Ä–∞—Å–∏–≤—ã–π –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω)
- Zustand –¥–ª—è state management (–ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Redux)
- Firebase Firestore (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- GitHub Actions –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è (CI/CD)

**Deployment:**
- Production URL: https://stiapanreha-dev.github.io/yaminecraft-students/
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ master
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ backend —Å–µ—Ä–≤–µ—Ä–∞ (JAMstack –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –±—É–¥—É—â–µ–º:**
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è"
- Admin credentials: admin@yaminecraft.local / admin123456
- –ü—Ä–∏–º–µ—Ä MinIO upload API —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ `/server/upload-api.js` (–Ω–∞ —Å–ª—É—á–∞–π –º–∏–≥—Ä–∞—Ü–∏–∏)
